<!DOCTYPE html>
<html>
<head>
	<title>Rock Paper Scissors</title>
	<meta charset="UTF-8">
</head>
<body>

	<div class = 'buttons'>
		<button class ='btn' id='rock'>Rock</button>
		<button class ='btn' id='paper'>Paper</button>
		<button class ='btn' id='scissors'>Scissors</button>
	</div>

	<div id = 'display'></div>

	<div class = 'score'>
		<div class = 'scoreLine'>
			<span>Your score</span><div id = 'player'></div>
		</div>
		<div class = 'scoreLine'>
			<span>Tie counter</span><div id = 'tie'></div>
		</div>
		<div class = 'scoreLine'>
			<span>Computer score</span><div id = 'computer'></div>
		</div>
	</div>

	<button class = 'reset'>Reset</button>
	


<link rel="stylesheet" href="styles.css">
<script type="text/javascript">
	var scoreComputer = 0;
	var scorePlayer = 0;
	var tieCounter = 0;
	var roundNb = 5;


	function getRndInteger(min, max) {
    return Math.floor(Math.random() * (max - min + 1) ) + min;
	}

	function computerPlay() {
		let rock = 'Rock';
		let paper = 'Paper';
		let scissors = 'Scissors';
		let rps = [rock, paper, scissors];
		let rng = getRndInteger(0,2);
		return(rps[rng]);
	}

	function checkWin() {
		if (scoreComputer == 5 || scorePlayer == 5) {
			if (scoreComputer == 5) {
				resultDisplay.textContent = 'You lose! Haha, machine beats human yet again!';
				return;
			}
			else {
				resultDisplay.textContent = 'You win... For now. I will be avenged!'
				return;
			}

		}
		else {return;}
	}

	function playRound (playerSelection, computerSelection) {
		playerSelection = playerSelection.toUpperCase();
		computerSelection = computerSelection.toUpperCase();
		if (playerSelection === computerSelection) {
			resultDisplay.textContent = 'Tie!';
			tieCounter+=1;
			tie.textContent=tieCounter;
			return;
		}
		else if (playerSelection === 'ROCK') {
			if (computerSelection === 'PAPER') {
				resultDisplay.textContent ='You lose! Paper beats Rock.';
				scoreComputer+=1;
				computer.textContent=scoreComputer;
				return;
			}
			else {
				resultDisplay.textContent='You win! Rock beats Scissors.';
				scorePlayer+=1;
				player.textContent=scorePlayer;
				return;	
			}
		}
		else if (playerSelection === 'PAPER') {
			if (computerSelection === 'SCISSORS') {
				resultDisplay.textContent ='You lose! Scissors beats Paper.';
				scoreComputer+=1;
				computer.textContent=scoreComputer;
				return;
			}
			else {
				resultDisplay.textContent='You win! Paper beats Rock.';
				scorePlayer+=1;
				player.textContent=scorePlayer;
				return;
			}
		}
		else {
			if (computerSelection === 'ROCK') {
				resultDisplay.textContent ='You lose! Rock beats Scissors.';
				scoreComputer+=1;
				computer.textContent=scoreComputer;
				return;
			}
			else {
				resultDisplay.textContent='You win! Scissors beats Paper.';
				scorePlayer+=1;
				player.textContent=scorePlayer;
				return;
			}
		}
	}
   
 	// DOM manipulation SECTION

 	// plays the game when the player clicks on rock paper scissors buttons
	const btns = document.querySelectorAll('button.btn');
	btns.forEach((button) => {
  		button.addEventListener('click', (e) => {
  		checkWin();
    	playRound(button.id, computerPlay());
    	checkWin();
  		});
	});


	// default invitation to play when nothing happened
	const resultDisplay = document.getElementById('display');
	resultDisplay.textContent = 'Greetings, human! Would you like to play? Just click!';                               
	const player = document.getElementById('player');
	player.textContent = scorePlayer;

	const tie = document.getElementById('tie');
	tie.textContent = tieCounter;

	const computer = document.getElementById('computer');
	computer.textContent = scoreComputer;

	// a button to reset all scores
	const reset = document.querySelector('button.reset');
	reset.addEventListener('click', (e) => {
			scoreComputer = 0;
			scorePlayer = 0;
			tieCounter = 0;
			tie.textContent = tieCounter;
			computer.textContent = scoreComputer;
			player.textContent = scorePlayer;
			resultDisplay.textContent = 'Alright, another one?';
		});


	

	

	
</script>

</body>
</html>